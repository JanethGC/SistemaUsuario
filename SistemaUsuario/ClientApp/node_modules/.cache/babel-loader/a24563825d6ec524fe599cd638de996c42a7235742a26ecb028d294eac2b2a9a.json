{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\"; // Import axios separately\n\nconst hostName = \"your_host_name_here\"; // Define your hostName variable\n\nexport const loginUser = createAsyncThunk('user/log', async userCredentials => {\n  try {\n    const request = await axios.post(`${hostName}api/usuario/login`, userCredentials);\n    const response = request.data.data;\n    localStorage.setItem(\"user\", JSON.stringify(response));\n    return response;\n  } catch (error) {\n    throw error; // Re-throw the error to be caught by loginUser.rejected\n  }\n});\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    loading: false,\n    user: null,\n    error: null\n  },\n  extraReducers: builder => {\n    builder.addCase(loginUser.pending, state => {\n      state.loading = true;\n      state.user = null;\n      state.error = null;\n    }).addCase(loginUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.user = action.payload;\n      state.error = null;\n    }).addCase(loginUser.rejected, (state, action) => {\n      state.loading = false;\n      state.user = null;\n      console.log(action.error.message);\n      if (action.error.message === \"Request failed with status code 401\") {\n        state.error = \"Acceso denegado! Credenciales incorrectas\";\n      } else {\n        state.error = action.error.message;\n      }\n    });\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","hostName","loginUser","userCredentials","request","post","response","data","localStorage","setItem","JSON","stringify","error","userSlice","name","initialState","loading","user","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","console","log","message","reducer"],"sources":["C:/Users/Janeth/source/repos/SistemaUsuario/SistemaUsuario/ClientApp/src/Store/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\"; // Import axios separately\r\n\r\nconst hostName = \"your_host_name_here\"; // Define your hostName variable\r\n\r\nexport const loginUser = createAsyncThunk(\r\n    'user/log',\r\n    async (userCredentials) => {\r\n        try {\r\n            const request = await axios.post(`${hostName}api/usuario/login`, userCredentials);\r\n            const response = request.data.data;\r\n            localStorage.setItem(\"user\", JSON.stringify(response));\r\n            return response;\r\n        } catch (error) {\r\n            throw error; // Re-throw the error to be caught by loginUser.rejected\r\n        }\r\n    }\r\n);\r\n\r\nconst userSlice = createSlice({\r\n    name: 'user',\r\n    initialState: {\r\n        loading: false,\r\n        user: null,\r\n        error: null\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(loginUser.pending, (state) => {\r\n                state.loading = true;\r\n                state.user = null;\r\n                state.error = null;\r\n            })\r\n            .addCase(loginUser.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.user = action.payload;\r\n                state.error = null;\r\n            })\r\n            .addCase(loginUser.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.user = null;\r\n                console.log(action.error.message);\r\n                if (action.error.message === \"Request failed with status code 401\") {\r\n                    state.error = \"Acceso denegado! Credenciales incorrectas\";\r\n                } else {\r\n                    state.error = action.error.message;\r\n                }\r\n            });\r\n    }\r\n});\r\n\r\nexport default userSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B,MAAMC,QAAQ,GAAG,qBAAqB,CAAC,CAAC;;AAExC,OAAO,MAAMC,SAAS,GAAGH,gBAAgB,CACrC,UAAU,EACV,MAAOI,eAAe,IAAK;EACvB,IAAI;IACA,MAAMC,OAAO,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAE,GAAEJ,QAAS,mBAAkB,EAAEE,eAAe,CAAC;IACjF,MAAMG,QAAQ,GAAGF,OAAO,CAACG,IAAI,CAACA,IAAI;IAClCC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,CAAC;IACtD,OAAOA,QAAQ;EACnB,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZ,MAAMA,KAAK,CAAC,CAAC;EACjB;AACJ,CACJ,CAAC;;AAED,MAAMC,SAAS,GAAGf,WAAW,CAAC;EAC1BgB,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,OAAO,EAAE,KAAK;IACdC,IAAI,EAAE,IAAI;IACVL,KAAK,EAAE;EACX,CAAC;EACDM,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAAClB,SAAS,CAACmB,OAAO,EAAGC,KAAK,IAAK;MACnCA,KAAK,CAACN,OAAO,GAAG,IAAI;MACpBM,KAAK,CAACL,IAAI,GAAG,IAAI;MACjBK,KAAK,CAACV,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC,CACDQ,OAAO,CAAClB,SAAS,CAACqB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC7CF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACL,IAAI,GAAGO,MAAM,CAACC,OAAO;MAC3BH,KAAK,CAACV,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC,CACDQ,OAAO,CAAClB,SAAS,CAACwB,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MAC5CF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACL,IAAI,GAAG,IAAI;MACjBU,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACZ,KAAK,CAACiB,OAAO,CAAC;MACjC,IAAIL,MAAM,CAACZ,KAAK,CAACiB,OAAO,KAAK,qCAAqC,EAAE;QAChEP,KAAK,CAACV,KAAK,GAAG,2CAA2C;MAC7D,CAAC,MAAM;QACHU,KAAK,CAACV,KAAK,GAAGY,MAAM,CAACZ,KAAK,CAACiB,OAAO;MACtC;IACJ,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAehB,SAAS,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}